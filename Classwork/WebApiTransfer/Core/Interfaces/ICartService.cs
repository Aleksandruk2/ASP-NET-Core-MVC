using Core.Models.Cart;

namespace Core.Interfaces;

/// <summary>
/// Сервіс для роботи з кошиком користувача.
/// Надає методи для додавання та оновлення елементів кошика,
/// прив’язаних до поточного автентифікованого користувача.
/// </summary>
public interface ICartService
{
    /// <summary>
    /// Додає новий елемент до кошика користувача або оновлює
    /// кількість квитків для вже існуючої позиції.
    /// </summary>
    /// <param name="model">
    /// Модель, що містить ідентифікатор рейсу та кількість квитків.
    /// </param>
    /// <remarks>
    /// Користувач визначається автоматично з контексту автентифікації.
    /// Якщо позиція з таким рейсом уже існує в кошику — кількість оновлюється.
    /// Якщо не існує — створюється новий запис.
    /// </remarks>
    Task AddUpdateAsync(CartAddUpdateModel model);

    /// <summary>
    /// Отримує список елементів кошика поточного користувача.
    /// Повертає перелік рейсів, доданих до кошика,
    /// разом із кількістю обраних квитків.
    /// </summary>
    /// <returns>
    /// Список елементів кошика користувача.
    /// Якщо кошик порожній — повертається порожній список.
    /// </returns>
    Task<List<CartItemModel>> GetListAsync();

}

